:root{
  --bg: #0b1020;
  --bg-card:rgba(238,248,255,.7);
  --txt:#0e1b2b;
  --heading:#0a2239;
  --surface:rgba(245,250,255,.78);
  --accent:#f7b34c;
  --accent-2:#5fc3ff;
  --ring:rgba(10,34,57,.14);
  --radius: 16px;
  --shadow-1: 0 8px 30px rgba(0,0,0,.12);
  color-scheme: light dark;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg: #0b1020;
    --txt:#e7f1f8;
    --heading:#f6fbff;
    --accent:#ffb44d;
    --accent-2:#7dd3ff;
    --ring:rgba(255,255,255,.14);
    --surface:rgba(14,24,36,.72);
    --bg-card:rgba(255,255,255,.06);
  }
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Funnel Sans", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--txt);
  background: transparent; /* p5 canvas draws the bg */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height:1.55;
}

/* Accessibility helpers */
.skip-link{
  position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden;
}
.skip-link:focus{
  position:fixed;left:1rem;top:1rem;width:auto;height:auto;background:var(--accent);
  color:black;padding:.5rem .75rem;border-radius:var(--radius);z-index:9999;
}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Header & Nav */
.site-header{
  position:sticky;top:0;width:100%;
  display:flex;align-items:center;gap:.75rem;
  padding:.75rem max(2vw,16px);
  backdrop-filter:saturate(160%) blur(10px);
  background:linear-gradient(to bottom, rgba(255,255,255,.9), rgba(210,236,255,.6));
  border-bottom:1px solid var(--ring);
  z-index:10;
}
@media (prefers-color-scheme: dark){
 .site-header{ background:linear-gradient( to bottom, rgba(12,16,32,.7), rgba(12,16,32,.45) );}
}
.site-title{font-size:clamp(1.25rem, 2vw + .75rem, 2rem);margin:0;color:var(--heading);}
.site-title .light{opacity:.7;font-weight:400}
.spacer{flex:1}

.nav-toggle{
  display:none;
  border:1px solid var(--ring);border-radius:12px;
  background:var(--bg-card);color:var(--txt);
  padding:.5rem;line-height:0;cursor:pointer;
}
.icon-btn{
  border:1px solid var(--ring);border-radius:12px;
  background:var(--bg-card);color:var(--txt);
  padding:.5rem;line-height:0;cursor:pointer;
}
.icon-btn:focus-visible,.nav-toggle:focus-visible{outline:3px solid var(--accent-2)}

/* Top nav (collapses on mobile) */
.site-nav{
  position:sticky;top:56px; /* below header */
  z-index:9;
  background:transparent;
  display:flex;justify-content:center;
}
.site-nav ul{
  list-style:none;margin:.25rem auto; padding:.25rem;
  background:var(--bg-card);
  border:1px solid var(--ring); border-radius:999px;
  display:flex;gap:.25rem;
  backdrop-filter: blur(8px);
}
.site-nav a{
  display:inline-block;
  padding:.5rem .9rem;border-radius:999px;
  text-decoration:none;color:var(--txt);font-weight:600;
}
.site-nav a:focus-visible{outline:3px solid var(--accent-2);outline-offset:2px;border-radius:10px}
.site-nav a:hover{background:rgba(255,255,255,.15)}
.site-nav a[aria-current="page"]{background:var(--accent); color:#000}

/* Mobile collapse */
@media (max-width: 720px){
  .nav-toggle{display:inline-flex}
  .site-nav{position:fixed;inset:auto 0 12px 0; justify-content:center;pointer-events:none}
  .site-nav ul{pointer-events:auto}
  body:not(.nav-open) .site-nav{transform:translateY(120%);transition:transform .3s ease}
  body.nav-open .site-nav{transform:translateY(0)}
}

/* Content layout */
.content{
  max-width:min(1100px, 92vw);
  margin: 1.25rem auto 4rem;
  display:grid;gap:1.25rem;
}

.panel{
  padding: clamp(.25rem, 1vw, .5rem);
}
.card{
  background: var(--surface);
  border:1px solid var(--ring);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
  padding: clamp(1rem, 2.5vw, 2rem);
  backdrop-filter: blur(8px);
}

/* Typography */
h1,h2,h3{line-height:1.2}
h2{font-size:clamp(1.35rem, 1.4rem + 1vw, 2rem);margin:.25rem 0 1rem}
h3{font-size:clamp(1.1rem, 1rem + .6vw, 1.35rem);margin:.25rem 0 .5rem}
.lead{font-size:clamp(1rem, .95rem + .5vw, 1.2rem)}

/* Projects grid */
.projects-grid{
  display:grid;
  grid-template-columns: repeat( auto-fit, minmax(260px, 1fr) );
  gap: clamp(0.8rem, 1.6vw, 1.2rem);
}
.project{
  display:grid;
  grid-template-rows: auto 1fr;
  background: rgba(255,255,255,.6);
  border:1px solid var(--ring);
  border-radius:12px;
  overflow:hidden;
}
@media (prefers-color-scheme: dark){
  .project{ background: rgba(20,24,38,.6); }
}
.project-img{
  width:100%; height:auto;
  display:block; aspect-ratio: 16/9;
  object-fit: cover;
}
.project-body{
  display: flex;
  flex-direction: column;
  padding: .9rem .9rem 1rem;
}
.project-links{
  margin-top: auto;
}
.btn{
  display:inline-block;text-decoration:none;font-weight:700;
  padding:.5rem .85rem;border-radius:10px;border:1px solid var(--ring);
  background:var(--accent); color:black;
}
.btn:hover{filter:brightness(0.95)}

/* Footer */
.site-footer{ text-align:center; padding:2rem 1rem; opacity:.85}

/* Safe area on phones */
@supports(padding:max(0px)){
  .site-header{ padding-left:max(2vw, env(safe-area-inset-left)); padding-right:max(2vw, env(safe-area-inset-right)); }
  .site-footer{ padding-left:max(2vw, env(safe-area-inset-left)); padding-right:max(2vw, env(safe-area-inset-right)); }
}

/* p5 canvas should sit behind content */
canvas{
  position:fixed !important;
  inset:0;
  width:100vw !important;
  height:100vh !important;
  z-index:-1 !important;
}
